<!DOCTYPE html>
<html lang="ko">

    <head>

        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
            integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"/>
        <link rel="stylesheet" href="../css/order.css"/>
        <script src="../js/main.js"></script>
        <script src="../js/headerfooter.js"></script>
        <link rel="stylesheet" href="../css/main.css">
        <link rel="stylesheet" href="../css/resetfile.css"/>
        <link rel="stylesheet" href="./fontw/css/all.min.css"/>
        <link rel="stylesheet" href="./css/mobile.css"/>

    </head>

    <body>

        <div class="all">
            <div class="gototop">
                <i class="fa-solid fa-caret-up"></i>
            </div>
            <div class="gotodown">
                <i class="fa-solid fa-caret-down"></i>
            </div>
            <header>
                <div class="innerheader">
                    <div class="top">
                        <a class="menubars" href="#">
                            <i class="fa-solid fa-bars"></i>
                        </a>
                        <h1 class="logo">
                            <a href="./index.html"><img src="../img/1.png" alt=""/></a>
                        </h1>
                        <input type="text" name="" value="" placeholder="Search.."/>
                        <a class="search" href="#">
                            <i class="fa-solid fa-magnifying-glass"></i >
                        </a>
                        <ul class="topMenu">
                            <li>
                                <a href="#">회원가입</a>
                            </li>
                            <li>
                                <a href="#">마이페이지</a>
                            </li>
                            <li>
                                <a href="#">즐겨찾기</a>
                            </li>
                            <li>
                                <a href="#">고객센터</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="innerheaderDown">
                    <ul class="gnb">
                        <li>
                            <a href="./headphone.html" target="_blank">미용</a>
                            <ul>
                                <li>
                                    <a href="#">커트</a>
                                </li>
                                <li>
                                    <a href="#">염색</a>
                                </li>
                                <li>
                                    <a href="#">파마</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="./earbuds.html" target="_blank">병원</a>
                            <ul>
                                <li>
                                    <a href="#">강아지</a>
                                </li>
                                <li>
                                    <a href="#">고양이</a>
                                </li>
                                <li>
                                    <a href="#">기타</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="./speker.html">유치원</a>
                            <ul>
                                <li>
                                    <a href="#">강아지</a>
                                </li>
                                <li>
                                    <a href="#">고양이</a>
                                </li>
                                <li>
                                    <a href="#">기타</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="./refer.html">플레이스</a>
                            <ul>
                                <li>
                                    <a href="#">동반 플레이스</a>
                                </li>
                                <li>
                                    <a href="#">동반 숙소</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="./sale.html">이용 후기</a>
                            <ul>
                                <li>
                                    <a href="#">업체 후기</a>
                                </li>
                                <li>
                                    <a href="#">매니저 후기</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </header>
            <header include-html="/headerfooter.html"></header>
            <div class="ordersBanner">
                <!-- <img src= alt="earbudsbanner"> -->
                <div class="ordersBannerTxt">
                    <h1>새로운 일상을 위하여</h1>
                    <h2>반려가족의 일상에 우프가 함께하겠습니다</h2>
                </div>
            </div>

            <div>

                <form class="orderform" method="post" onsubmit="sendData()">

                    <div>
                        <label for="name">이름</label>
                        <input type="text" id="name" maxlength="30" placeholder="ex.홍길동/포롱">
                    </div>

                    <div>
                        <label for="phoneNumber">전화번호</label>
                        <input type="tel" id="phoneNumber" maxlength="11" placeholder="ex.01011112222">
                    </div>
                    <div>
                        <label for="time">예약시간</label>
                        <input type="tel" id="time" maxlength="11" placeholder="숫자만 써주세요">
                    </div>

                    <div>
                        <label for="orderDetails">특이사항</label>
                        <input type="text" id="orderDetails" maxlength="50" placeholder="ex. 입질이 있어요">
                    </div>

                    <div class="service">
                        <label for="orderDetails">특이사항</label>
                        <input type="text" id="place" maxlength="50" placeholder="장소">
                    </div>
                    <div class="number">
                        <label>매니저 번호
                        </label>
                        <input type="text" id="productManagerIdx" placeholder="숫자만 써주세요">
    
                        <label>업체 번호
                        </label>
                        <input type="text" id="productCeoIdx" placeholder="숫자만 써주세요">
    
                        <label>멤버 번호
                        </label>
                        <input type="text" id="memberIdx" placeholder="숫자만 써주세요">
                    </div>
                   
                    <input class="submit signup-progress-btn" type="submit" value="전송하기">
                </form>

                <footer>
                    <div class="footTop">
                        <div class="innerfootTop">
                            <a href="#">
                                <i class="fa-brands fa-youtube"></i>
                            </a>
                            <a href="#">
                                <i class="fa-brands fa-instagram"></i>
                            </a>
                            <a href="#">
                                <i class="fa-brands fa-twitter"></i>
                            </a>
                        </div>
                    </div>
                    <div class="footDown">
                        <div class="innerfootDown">
                            <div class="footleft">
                                <img src="../img/1.png"/>
                            </div>
                            <div class="footTxt">
                                <p>(주) WOOF | 대표자명 : 홍길동</p>
                                <address>
                                    주소 : 서울시 동작구 보라매로87 402호 | 연락처: 02-1234-5678
                                </address>
                                <p>
                                    사업자등록번호 : 123-12-12345 | 통신판매업신고번호 : 2024-서울동작-01234
                                </p>
                                <p>개인정보관리책임자 : 전우치</p>
                                <p>
                                    <a href="#">이용약관 | 개인정보처리방침
                                    </p>
                                </div>
                            </div>
                        </div>
                    </footer>

                </div>

            </div>

            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            <script>
                const sendData = async () => {
                    event.preventDefault();

                    let name = document
                        .getElementById("name")
                        .value;
                    let phoneNumber = document
                        .getElementById("phoneNumber")
                        .value;
                    let time = document
                        .getElementById("time")
                        .value;
                    let orderDetails = document
                        .getElementById("orderDetails")
                        .value;
                    let place = document
                        .getElementById("place")
                        .value;
                    let productManagerIdx = document
                        .getElementById("productManagerIdx")
                        .value;
                    let productCeoIdx = document
                        .getElementById("productCeoIdx")
                        .value;
                    let memberIdx = document
                        .getElementById("memberIdx")
                        .value;

                    // let password = document.getElementById("password").value; let name =
                    // document.getElementById("name").value;

                    let data = {
                        name: name,
                        phoneNumber: phoneNumber,
                        time: time,
                        orderDetails: orderDetails,
                        place: place,
                        productManagerIdx: productManagerIdx,
                        productCeoIdx: productCeoIdx,
                        memberIdx: memberIdx
                    };

                    let orderDto = JSON.stringify(data);
                    // let abcd = new FormData(); abcd.append(     "orderDto",     new Blob([json],
                    // {type: "application/json"}) );

                    console.log(orderDto)

                    let response = await axios.post(
                        "http://localhost:8080/orders/create",
                        orderDto,
                        {
                            headers: {
                                'Content-Type': 'application/json'
                            }
                        }
                    );
                    if (response.data !== null) {
                        window.location.href = "./orderSuccess.html"
                    }

                    console.log(response, data);

                };
            </script>
        </body>

    </html>